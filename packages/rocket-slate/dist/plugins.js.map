{"version":3,"sources":["../src/plugins.ts"],"names":["elements","addElement","pluginName","typeName","RenderFunction","$pluginName","leaves","addLeaf","Element","attributes","children","element","type","console","log","Leaf","leaf","Object","keys","forEach"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAIA,QAAQ,GAAG,EAAf;;;AACA,MAAMC,UAAU,GAAG,UAASC,UAAT,EAAqBC,QAArB,EAA+BC,cAA/B,EAA8C;AAC/D,MAAIJ,QAAQ,CAACG,QAAD,CAAZ,EAAwB;AACtB,UAAO,kCAAiCA,QAAS,SAAQE,WAAY,4BAA2BL,QAAQ,CAACG,QAAD,CAAR,CAAmBD,UAAW,EAA9H;AACD;;AACDF,EAAAA,QAAQ,CAACG,QAAD,CAAR,GAAqB;AAAED,IAAAA,UAAF;AAAcE,IAAAA;AAAd,GAArB;AACD,CALD;;;AAOA,IAAIE,MAAM,GAAG,EAAb;;;AACA,MAAMC,OAAO,GAAG,UAASL,UAAT,EAAqBC,QAArB,EAA+BC,cAA/B,EAA8C;AAC5D,MAAIJ,QAAQ,CAACG,QAAD,CAAZ,EAAwB;AACtB,UAAO,+BAA8BA,QAAS,SAAQE,WAAY,4BAA2BL,QAAQ,CAACG,QAAD,CAAR,CAAmBD,UAAW,EAA3H;AACD;;AACDI,EAAAA,MAAM,CAACH,QAAD,CAAN,GAAmB;AAAED,IAAAA,UAAF;AAAcE,IAAAA;AAAd,GAAnB;AACD,CALD;;;;AASA,MAAMI,OAAO,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,QAAd;AAAwBC,EAAAA;AAAxB,CAAD,KAAuC;AACrD,QAAM;AAAET,IAAAA,UAAF;AAAcE,IAAAA;AAAd,MAAiCJ,QAAQ,CAACW,OAAO,CAACC,IAAT,CAA/C;;AACA,MAAIR,cAAJ,EAAoB;AAClBS,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,OAAO,CAACC,IAAtC,EAA4C,oBAA5C,EAAkEV,UAAlE;AACA,WAAO,6BAAC,cAAD,EAAoBO,UAApB,EAAiCC,QAAjC,CAAP;AACD;;AACD,SAAO,oCAASD,UAAT,EAAsBC,QAAtB,CAAP;AACD,CAPD;;;;AASA,MAAMK,IAAI,GAAG,CAAC;AAAEN,EAAAA,UAAF;AAAcC,EAAAA,QAAd;AAAwBM,EAAAA;AAAxB,CAAD,KAAoC;AAC/CC,EAAAA,MAAM,CAACC,IAAP,CAAYlB,QAAZ,EAAsBmB,OAAtB,CAA8B,UAAShB,QAAT,EAAmB;AAC/C,QAAIa,IAAI,CAACb,QAAD,CAAR,EAAoB;AAClB,YAAM;AAAED,QAAAA,UAAF;AAAcE,QAAAA;AAAd,UAAiCY,IAAI,CAACb,QAAD,CAA3C;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BX,QAA3B,EAAqC,oBAArC,EAA2DD,UAA3D;AACAQ,MAAAA,QAAQ,GAAGN,cAAc,CAACM,QAAD,CAAzB;AACD;AACF,GAND;AAQA,SAAO,qCAAUD,UAAV,EAAuBC,QAAvB,CAAP;AACD,CAVD","sourcesContent":["import React from 'react'\n\nvar elements = {};\nconst addElement = function(pluginName, typeName, RenderFunction){\n  if (elements[typeName]) {\n    throw `Error: cannot register element ${typeName} from ${$pluginName} - already registered by ${elements[typeName].pluginName}`\n  }\n  elements[typeName] = { pluginName, RenderFunction }\n};\n\nvar leaves = {};\nconst addLeaf = function(pluginName, typeName, RenderFunction){\n  if (elements[typeName]) {\n    throw `Error: cannot register leaf ${typeName} from ${$pluginName} - already registered by ${elements[typeName].pluginName}`\n  }\n  leaves[typeName] = { pluginName, RenderFunction }\n};\n\nexport { elements, addElement, leaves, addLeaf }\n\nconst Element = ({ attributes, children, element }) => {\n  const { pluginName, RenderFunction } = elements[element.type];\n  if (RenderFunction) {\n    console.log(\"render element\", element.type, \"with function from\", pluginName)\n    return <RenderFunction {...attributes}>{children}</RenderFunction>\n  }\n  return <div {...attributes}>{children}</div>\n}\n\nconst Leaf = ({ attributes, children, leaf }) => {\n  Object.keys(elements).forEach(function(typeName) {\n    if (leaf[typeName]) {\n      const { pluginName, RenderFunction } = leaf[typeName];\n      console.log(\"render leaf\", typeName, \"with function from\", pluginName)\n      children = RenderFunction(children);\n    }\n  })\n\n  return <span {...attributes}>{children}</span>\n}\n\nexport { Element, Leaf }\n"],"file":"plugins.js"}