{"version":3,"sources":["../src/index.tsx"],"names":["attributes","children","LIST_TYPES","toggleBlock","editor","format","isActive","isBlockActive","isList","includes","Transforms","unwrapNodes","match","n","type","split","setNodes","block","wrapNodes","toggleMark","isMarkActive","Editor","removeMark","addMark","nodes","marks","BlockButton","icon","event","preventDefault","MarkButton"],"mappings":";;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AAkBA;;;;AAhBA,6BAAW,SAAX,EAAsB,aAAtB,EAAqC,CAAC;AAACA,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,2CAAgBD,UAAhB,EAA6BC,QAA7B,CAAjE;AACA,6BAAW,SAAX,EAAsB,eAAtB,EAAuC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAnE;AACA,6BAAW,SAAX,EAAsB,eAAtB,EAAuC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAnE;AACA,6BAAW,SAAX,EAAsB,WAAtB,EAAmC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAA/D;AAEA,6BAAW,SAAX,EAAsB,aAAtB,EAAqC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAjE;AACA,6BAAW,SAAX,EAAsB,aAAtB,EAAqC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAjE;AACA,6BAAW,SAAX,EAAsB,eAAtB,EAAuC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAnE;AACA,6BAAW,SAAX,EAAsB,cAAtB,EAAsC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAlE;AACA,6BAAW,SAAX,EAAsB,cAAtB,EAAsC,CAAC;AAACD,EAAAA,UAAD;AAAaC,EAAAA;AAAb,CAAD,KAA4B,mCAAQD,UAAR,EAAqBC,QAArB,CAAlE;AAEA,0BAAQ,SAAR,EAAmB,MAAnB,EAA4BA,QAAD,IAAc,6CAASA,QAAT,CAAzC;AACA,0BAAQ,SAAR,EAAmB,MAAnB,EAA4BA,QAAD,IAAc,6CAASA,QAAT,CAAzC;AACA,0BAAQ,SAAR,EAAmB,QAAnB,EAA8BA,QAAD,IAAc,yCAAKA,QAAL,CAA3C;AACA,0BAAQ,SAAR,EAAmB,WAAnB,EAAiCA,QAAD,IAAc,wCAAIA,QAAJ,CAA9C;AAIA,MAAMC,UAAU,GAAG,CAAC,eAAD,EAAkB,eAAlB,EAAmC,eAAnC,CAAnB;;AAEA,MAAMC,WAAW,GAAG,CAACC,MAAD,EAASC,MAAT,KAAoB;AACpC,QAAMC,QAAQ,GAAGC,aAAa,CAACH,MAAD,EAASC,MAAT,CAA9B;AACA,QAAMG,MAAM,GAAGN,UAAU,CAACO,QAAX,CAAoBJ,MAApB,CAAf;;AAEAK,oBAAWC,WAAX,CAAuBP,MAAvB,EAA+B;AAC3BQ,IAAAA,KAAK,EAAEC,CAAC,IAAIX,UAAU,CAACO,QAAX,CAAoBI,CAAC,CAACC,IAAtB,CADe;AAE3BC,IAAAA,KAAK,EAAE;AAFoB,GAA/B;;AAKAL,oBAAWM,QAAX,CAAoBZ,MAApB,EAA4B;AACxBU,IAAAA,IAAI,EAAER,QAAQ,GAAG,WAAH,GAAiBE,MAAM,GAAG,WAAH,GAAiBH;AAD9B,GAA5B;;AAIA,MAAI,CAACC,QAAD,IAAaE,MAAjB,EAAyB;AACrB,UAAMS,KAAK,GAAG;AAAEH,MAAAA,IAAI,EAAET,MAAR;AAAgBJ,MAAAA,QAAQ,EAAE;AAA1B,KAAd;;AACAS,sBAAWQ,SAAX,CAAqBd,MAArB,EAA6Ba,KAA7B;AACH;AACJ,CAjBD;;AAmBA,MAAME,UAAU,GAAG,CAACf,MAAD,EAASC,MAAT,KAAoB;AACnC,QAAMC,QAAQ,GAAGc,YAAY,CAAChB,MAAD,EAASC,MAAT,CAA7B;;AAEA,MAAIC,QAAJ,EAAc;AACVe,kBAAOC,UAAP,CAAkBlB,MAAlB,EAA0BC,MAA1B;AACH,GAFD,MAEO;AACHgB,kBAAOE,OAAP,CAAenB,MAAf,EAAuBC,MAAvB,EAA+B,IAA/B;AACH;AACJ,CARD;;AAUA,MAAME,aAAa,GAAG,CAACH,MAAD,EAASC,MAAT,KAAoB;AACtC,QAAM,CAACO,KAAD,IAAUS,cAAOG,KAAP,CAAapB,MAAb,EAAqB;AACjCQ,IAAAA,KAAK,EAAEC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAWT;AADU,GAArB,CAAhB;;AAIA,SAAO,CAAC,CAACO,KAAT;AACH,CAND;;AAQA,MAAMQ,YAAY,GAAG,CAAChB,MAAD,EAASC,MAAT,KAAoB;AACrC,QAAMoB,KAAK,GAAGJ,cAAOI,KAAP,CAAarB,MAAb,CAAd;;AACA,SAAOqB,KAAK,GAAGA,KAAK,CAACpB,MAAD,CAAL,KAAkB,IAArB,GAA4B,KAAxC;AACH,CAHD;;AAKA,MAAMqB,WAAW,GAAG,CAAC;AAAErB,EAAAA,MAAF;AAAUsB,EAAAA;AAAV,CAAD,KAAsB;AACtC,QAAMvB,MAAM,GAAG,2BAAf;AACA,SACI,6BAAC,eAAD;AACA,IAAA,MAAM,EAAEG,aAAa,CAACH,MAAD,EAASC,MAAT,CADrB;AAEA,IAAA,WAAW,EAAEuB,KAAK,IAAI;AAClBA,MAAAA,KAAK,CAACC,cAAN;AACA1B,MAAAA,WAAW,CAACC,MAAD,EAASC,MAAT,CAAX;AACH;AALD,KAOKsB,IAPL,CADJ;AAWH,CAbD;;AAeA,MAAMG,UAAU,GAAG,CAAC;AAAEzB,EAAAA,MAAF;AAAUsB,EAAAA;AAAV,CAAD,KAAsB;AACrC,QAAMvB,MAAM,GAAG,2BAAf;AACA,SACI,6BAAC,eAAD;AACI,IAAA,MAAM,EAAEgB,YAAY,CAAChB,MAAD,EAASC,MAAT,CADxB;AAEI,IAAA,WAAW,EAAEuB,KAAK,IAAI;AAClBA,MAAAA,KAAK,CAACC,cAAN;AACAV,MAAAA,UAAU,CAACf,MAAD,EAASC,MAAT,CAAV;AACH;AALL,KAOSsB,IAPT,CADJ;AAWH,CAbD","sourcesContent":["import React from \"react\"\nimport { addElement, addLeaf } from \"rocket-slate\"\nimport { useSlate } from \"slate-react\"\nimport { Transforms, Editor } from \"slate\"\n\nimport { Button } from \"@rocket-slate/toolbar\"\n\naddElement(\"wysisyg\", \"block-quote\", ({attributes, children}) => <blockquote {...attributes}>{children}</blockquote>)\naddElement(\"wysisyg\", \"bulleted-list\", ({attributes, children}) => <ul {...attributes}>{children}</ul>)\naddElement(\"wysisyg\", \"numbered-list\", ({attributes, children}) => <ol {...attributes}>{children}</ol>)\naddElement(\"wysisyg\", \"list-item\", ({attributes, children}) => <ol {...attributes}>{children}</ol>)\n\naddElement(\"wysisyg\", \"heading-one\", ({attributes, children}) => <h1 {...attributes}>{children}</h1>)\naddElement(\"wysisyg\", \"heading-two\", ({attributes, children}) => <h2 {...attributes}>{children}</h2>)\naddElement(\"wysisyg\", \"heading-three\", ({attributes, children}) => <h3 {...attributes}>{children}</h3>)\naddElement(\"wysisyg\", \"heading-four\", ({attributes, children}) => <h4 {...attributes}>{children}</h4>)\naddElement(\"wysisyg\", \"heading-five\", ({attributes, children}) => <h5 {...attributes}>{children}</h5>)\n\naddLeaf(\"wysisyg\", \"bold\", (children) => <strong>{children}</strong>)\naddLeaf(\"wysisyg\", \"code\", (children) => <strong>{children}</strong>)\naddLeaf(\"wysisyg\", \"italic\", (children) => <em>{children}</em>)\naddLeaf(\"wysisyg\", \"underline\", (children) => <u>{children}</u>)\n\nexport { default as withWysiwyg } from \"./withWysiwyg\"\n\nconst LIST_TYPES = ['numbered-list', 'bulleted-list', 'checkbox-list']\n\nconst toggleBlock = (editor, format) => {\n    const isActive = isBlockActive(editor, format)\n    const isList = LIST_TYPES.includes(format)\n\n    Transforms.unwrapNodes(editor, {\n        match: n => LIST_TYPES.includes(n.type),\n        split: true,\n    })\n\n    Transforms.setNodes(editor, {\n        type: isActive ? 'paragraph' : isList ? 'list-item' : format,\n    })\n\n    if (!isActive && isList) {\n        const block = { type: format, children: [] }\n        Transforms.wrapNodes(editor, block)\n    }\n}\n\nconst toggleMark = (editor, format) => {\n    const isActive = isMarkActive(editor, format)\n\n    if (isActive) {\n        Editor.removeMark(editor, format)\n    } else {\n        Editor.addMark(editor, format, true)\n    }\n}\n\nconst isBlockActive = (editor, format) => {\n    const [match] = Editor.nodes(editor, {\n        match: n => n.type === format,\n    })\n\n    return !!match\n}\n\nconst isMarkActive = (editor, format) => {\n    const marks = Editor.marks(editor)\n    return marks ? marks[format] === true : false\n}\n\nconst BlockButton = ({ format, icon }) => {\n    const editor = useSlate()\n    return (\n        <Button\n        active={isBlockActive(editor, format)}\n        onMouseDown={event => {\n            event.preventDefault()\n            toggleBlock(editor, format)\n        }}\n        >\n            {icon}\n        </Button>\n    )\n}\n\nconst MarkButton = ({ format, icon }) => {\n    const editor = useSlate()\n    return (\n        <Button\n            active={isMarkActive(editor, format)}\n            onMouseDown={event => {\n                event.preventDefault()\n                toggleMark(editor, format)\n            }}\n            >\n                {icon}\n        </Button>\n    )\n}"],"file":"index.js"}