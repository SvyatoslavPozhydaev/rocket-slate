{"version":3,"sources":["../src/deserialize.ts"],"names":["deserialize","el","nodeType","textContent","nodeName","parent","childNodes","children","Array","from","map","flat","ELEMENT_TAGS","attrs","TEXT_TAGS","child"],"mappings":";;;;;;;AAAA;;AAEA;;AAEe,SAASA,WAAT,CAAqBC,EAArB,EAAyB;AACtC,MAAIA,EAAE,CAACC,QAAH,KAAgB,CAApB,EAAuB;AACrB,WAAOD,EAAE,CAACE,WAAV;AACD,GAFD,MAEO,IAAIF,EAAE,CAACC,QAAH,KAAgB,CAApB,EAAuB;AAC5B,WAAO,IAAP;AACD,GAFM,MAEA,IAAID,EAAE,CAACG,QAAH,KAAgB,IAApB,EAA0B;AAC/B,WAAO,IAAP;AACD;;AAED,QAAM;AAAEA,IAAAA;AAAF,MAAeH,EAArB;AACA,MAAII,MAAM,GAAGJ,EAAb;;AAEA,MACEG,QAAQ,KAAK,KAAb,IACAH,EAAE,CAACK,UAAH,CAAc,CAAd,CADA,IAEAL,EAAE,CAACK,UAAH,CAAc,CAAd,EAAiBF,QAAjB,KAA8B,MAHhC,EAIE;AACAC,IAAAA,MAAM,GAAGJ,EAAE,CAACK,UAAH,CAAc,CAAd,CAAT;AACD;;AAED,QAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAN,CAAWJ,MAAM,CAACC,UAAlB,EACdI,GADc,CACVV,WADU,EAEdW,IAFc,EAAjB;;AAIA,MAAIV,EAAE,CAACG,QAAH,KAAgB,MAApB,EAA4B;AAC1B,WAAO,2BAAI,UAAJ,EAAgB,EAAhB,EAAoBG,QAApB,CAAP;AACD;;AAED,MAAIK,mBAAaR,QAAb,CAAJ,EAA4B;AAC1B,UAAMS,KAAK,GAAGD,mBAAaR,QAAb,EAAuBH,EAAvB,CAAd;;AACA,WAAO,2BAAI,SAAJ,EAAeY,KAAf,EAAsBN,QAAtB,CAAP;AACD;;AAED,MAAIO,gBAAUV,QAAV,CAAJ,EAAyB;AACvB,UAAMS,KAAK,GAAGC,gBAAUV,QAAV,EAAoBH,EAApB,CAAd;;AACA,WAAOM,QAAQ,CAACG,GAAT,CAAaK,KAAK,IAAI,2BAAI,MAAJ,EAAYF,KAAZ,EAAmBE,KAAnB,CAAtB,CAAP;AACD;;AAED,SAAOR,QAAP;AACD","sourcesContent":["import { ELEMENT_TAGS, TEXT_TAGS } from \"./tags\";\n\nimport { jsx } from 'slate-hyperscript'\n\nexport default function deserialize(el) {\n  if (el.nodeType === 3) {\n    return el.textContent\n  } else if (el.nodeType !== 1) {\n    return null\n  } else if (el.nodeName === 'BR') {\n    return '\\n'\n  }\n\n  const { nodeName } = el\n  let parent = el\n\n  if (\n    nodeName === 'PRE' &&\n    el.childNodes[0] &&\n    el.childNodes[0].nodeName === 'CODE'\n  ) {\n    parent = el.childNodes[0]\n  }\n\n  const children = Array.from(parent.childNodes)\n    .map(deserialize)\n    .flat()\n\n  if (el.nodeName === 'BODY') {\n    return jsx('fragment', {}, children)\n  }\n\n  if (ELEMENT_TAGS[nodeName]) {\n    const attrs = ELEMENT_TAGS[nodeName](el)\n    return jsx('element', attrs, children)\n  }\n\n  if (TEXT_TAGS[nodeName]) {\n    const attrs = TEXT_TAGS[nodeName](el)\n    return children.map(child => jsx('text', attrs, child))\n  }\n\n  return children\n}\n"],"file":"deserialize.js"}